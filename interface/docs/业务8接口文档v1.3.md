# 业务场景：按日返回营业额、订单量、人流量、平均评分



## 接口1：

### 接口功能

​				返回某天总营业额

### 		接口地址	

```xml
http://175.178.233.192:8080/spring/GetDay/totalMoney
```

### 		请求方式

```xml
get/post
```

### 		返回格式

```xml
json
```

### 		请求示例

```xml
http://175.178.233.192:8080/spring/GetDay/totalMoney?day=15
```

### 		响应示例

```json
{"totalMoney":12087}
```

### 		Body请求参数

| 名称 | 类型 | 必填 |           说明           | 示例 |
| :--: | :--: | :--: | :----------------------: | :--: |
| day  | int  |  是  | 查询具体哪一天，范围0~30 |  15  |

### 返回参数说明

|    名称    | 类型 |     说明     |
| :--------: | :--: | :----------: |
| totalMoney | int  | 当日总营业额 |



## 接口2：

### 	接口功能

​				获取某天总人流量

### 		接口地址	

```xml
http://175.178.233.192:8080/spring/GetDay/totalVisitor
```

### 		请求方式

```xml
get/post
```

### 		返回格式

```xml
json
```

### 		请求示例

```xml
http://175.178.233.192:8080/spring/GetDay/totalVisitor?day=15
```

### 		响应示例

```json
{"totalVisitor":494}
```

### 		Body请求参数

| 名称 | 类型 | 必填 |           说明           | 示例 |
| :--: | :--: | :--: | :----------------------: | :--: |
| day  | int  |  是  | 查询具体哪一天，范围0~30 |  15  |

### 返回参数说明

|     名称     | 类型 |     说明     |
| :----------: | :--: | :----------: |
| totalVisitor | int  | 当天总人流量 |



## 接口3：

### 接口功能

​				获取某天总订单数

### 		接口地址	

```xml
http://175.178.233.192:8080/spring/GetDay/totalOrder
```

### 		请求方式

```xml
get/post
```

### 		返回格式

```xml
json
```

### 		请求示例

```xml
http://175.178.233.192:8080/spring/GetDay/totalOrder?day=15
```

### 		响应示例

```json
{"totalOrder":1143}
```

### 		Body请求参数

| 名称 | 类型 | 必填 |           说明           | 示例 |
| :--: | :--: | :--: | :----------------------: | :--: |
| day  | int  |  是  | 查询具体哪一天，范围0~30 |  15  |

### 返回参数说明

|    名称    | 类型 |     说明     |
| :--------: | :--: | :----------: |
| totalOrder | int  | 当天总订单数 |



## 接口4：

### 接口功能

​				获取某天所有订单平均评分

### 		接口地址	

```xml
http://175.178.233.192:8080/spring/GetDay/DayMark
```

### 		请求方式

```xml
get/post
```

### 		返回格式

```xml
json
```

### 		请求示例

```xml
http://175.178.233.192:8080/spring/GetDay/DayMark?day=15
```

### 		响应示例

```json
{"dayAvgMark":6.47149221}
```

### 		Body请求参数

| 名称 | 类型 | 必填 |           说明           | 示例 |
| :--: | :--: | :--: | :----------------------: | :--: |
| day  | int  |  是  | 查询具体哪一天，范围0~30 |  15  |

### 返回参数说明

|    名称    |  类型  |         说明         |
| :--------: | :----: | :------------------: |
| dayAvgMark | double | 当天所有订单平均评分 |



## 接口5：

### 接口功能

​				集成以上四个接口和新增相对前一天变化率

### 		接口地址	

```xml
http://175.178.233.192:8080/spring/GetDay/totalData
```

### 		请求方式

```xml
get/post
```

### 		返回格式

```xml
json
```

### 		请求示例

```xml
http://175.178.233.192:8080/spring/GetDay/totalData?day=24
```

### 		响应示例

```json
{"totalMoney":14325,
"totalVisitor":500,
"totalOrder":1357,
"dayAvgMark":6.52192321,
"moneyRate":0.2504364525139664,
 "orderRate":0.24609733700642789,
 "visitorRate":0.020408163265306145,
 "markRate":0.006607982294331904}
```

### 		Body请求参数

| 名称 | 类型 | 必填 |           说明           | 示例 |
| :--: | :--: | :--: | :----------------------: | :--: |
| day  | int  |  是  | 查询具体哪一天，范围1~30 |  15  |

### 返回参数说明

|     名称     |  类型  |             说明             |
| :----------: | :----: | :--------------------------: |
|  totalMoney  |  int   |           日营业额           |
| totalVisitor |  int   |            日人流            |
|  totalOrder  |  int   |           日订单数           |
|  dayAvgMark  | double |            日均分            |
|  moneyRate   | double | 营业额变化率(较上一天，下同) |
|  orderRate   | double |          人流变化率          |
| visitorRate  | double |         订单数变化率         |
|   markRate   | double |          评分变化率          |



## 接口6：

### 接口功能

​				集成返回三十天的四元组

### 		接口地址	

```xml
http://175.178.233.192:8080/spring/GetDay/MonthEvrData
```

### 		请求方式

```xml
get/post
```

### 		返回格式

```xml
json
```

### 		请求示例

```xml
http://175.178.233.192:8080/spring/GetDay/MonthEvrData
```

### 		响应示例

```json
[{"dayTotal":14884,"dayOrder":1417,"dayVisitor":500,"dayGrade":6.51617255},{"dayTotal":11572,"dayOrder":1121,"dayVisitor":494,"dayGrade":6.52713354},{"dayTotal":14172,"dayOrder":1361,"dayVisitor":500,"dayGrade":6.50557186},{"dayTotal":12752,"dayOrder":1216,"dayVisitor":498,"dayGrade":6.48553956},{"dayTotal":12990,"dayOrder":1272,"dayVisitor":500,"dayGrade":6.4898452},{"dayTotal":11441,"dayOrder":1106,"dayVisitor":492,"dayGrade":6.48342242},{"dayTotal":13248,"dayOrder":1258,"dayVisitor":500,"dayGrade":6.58008704},{"dayTotal":11066,"dayOrder":1078,"dayVisitor":494,"dayGrade":6.54514518},{"dayTotal":12470,"dayOrder":1207,"dayVisitor":498,"dayGrade":6.47507556},{"dayTotal":12502,"dayOrder":1191,"dayVisitor":500,"dayGrade":6.49622191},{"dayTotal":13366,"dayOrder":1304,"dayVisitor":500,"dayGrade":6.55125314},{"dayTotal":11888,"dayOrder":1142,"dayVisitor":500,"dayGrade":6.59026454},{"dayTotal":12085,"dayOrder":1163,"dayVisitor":497,"dayGrade":6.56047644},{"dayTotal":11263,"dayOrder":1086,"dayVisitor":490,"dayGrade":6.45664457},{"dayTotal":12087,"dayOrder":1143,"dayVisitor":494,"dayGrade":6.47149221},{"dayTotal":10869,"dayOrder":1042,"dayVisitor":488,"dayGrade":6.53182946},{"dayTotal":11768,"dayOrder":1135,"dayVisitor":497,"dayGrade":6.48590256},{"dayTotal":12576,"dayOrder":1185,"dayVisitor":499,"dayGrade":6.552953},{"dayTotal":13971,"dayOrder":1352,"dayVisitor":500,"dayGrade":6.46498942},{"dayTotal":10363,"dayOrder":1022,"dayVisitor":483,"dayGrade":6.5291092},{"dayTotal":11776,"dayOrder":1130,"dayVisitor":494,"dayGrade":6.44513265},{"dayTotal":10994,"dayOrder":1036,"dayVisitor":482,"dayGrade":6.55526062},{"dayTotal":11456,"dayOrder":1089,"dayVisitor":490,"dayGrade":6.47910937},{"dayTotal":14325,"dayOrder":1357,"dayVisitor":500,"dayGrade":6.52192321},{"dayTotal":13977,"dayOrder":1352,"dayVisitor":500,"dayGrade":6.40766849},{"dayTotal":10130,"dayOrder":977,"dayVisitor":480,"dayGrade":6.50989406},{"dayTotal":12857,"dayOrder":1213,"dayVisitor":500,"dayGrade":6.4679169},{"dayTotal":12836,"dayOrder":1231,"dayVisitor":497,"dayGrade":6.43304939},{"dayTotal":12217,"dayOrder":1168,"dayVisitor":499,"dayGrade":6.53438913},{"dayTotal":11888,"dayOrder":1142,"dayVisitor":495,"dayGrade":6.51393774}]
```

### 		Body请求参数

​		无

### 返回参数说明

|    名称    |  类型  |   说明   |
| :--------: | :----: | :------: |
|  dayTotal  |  int   | 日营业额 |
|  dayOrder  |  int   |  日人流  |
| dayVisitor |  int   | 日订单数 |
|  dayGrade  | double |  日均分  |

​		返回数据按1~30日的数据顺序排列！



## 更新

7.14 将前四个接口整合为接口5，并在返回值加入四个值对应的日变化率

7.15 修复了接口5传参为1时会爆炸的bug

7.16 新增，修改部分接口
